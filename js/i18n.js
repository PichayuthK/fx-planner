(function () {
  const STORAGE_KEY = "fx-locale";

  const STRINGS = {
    en: {
      appTitle: "Forex Plan",
      appSubtitle: "Growth projection & trading journal",
      tabThisWeek: "This week",
      tabTradeHistory: "Trade History",
      tabProjection: "Projection",
      settingsExportJson: "Export Data (JSON)",
      settingsImportJson: "Import Data (JSON)",
      settingsExportCsv: "Export Trade History (CSV)",
      settingsLightMode: "Light Mode",
      settingsDarkMode: "Dark Mode",
      settingsInstallApp: "Install app",
      settingsClearData: "Clear All Data",
      addTrade: "Add Trade",
      win: "Win",
      loss: "Loss",
      amount: "Amount",
      lot: "Lot",
      tpPts: "TP pts",
      slPts: "SL pts",
      date: "Date",
      add: "Enter",
      note: "Note",
      notePlaceholder: "e.g. breakout, news scalpâ€¦",
      thisWeekTrades: "This Week's Trades",
      overviewEmpty: "No projection yet. Head to the **Projection** tab to set up your plan.",
      overviewEmptyLink: "Projection",
      goalToday: "Today",
      goalThisWeek: "This week",
      lotThisWeek: "Lot to use",
      lotThisWeekTip: "Max lot size for each trade for this week based on your current capital and risk settings.",
      done: "âœ“ Done",
      pts: "pts",
      currentCapital: "Current Capital",
      currentCapitalTip: "Initial capital + total P&L from all logged trades.",
      startedAt: "started at",
      pnlThisWeek: "P&L (this week)",
      pnlThisWeekTip: "Sum of trades for this week.",
      trades: "trades",
      trade: "trade",
      tableDate: "Date",
      tableResult: "Result",
      tableAmount: "Amount",
      tableLot: "Lot",
      tablePoints: "Points",
      tableSl: "SL",
      tableNote: "Note",
      delete: "Delete",
      projectionTitle: "Port Growth Projection",
      projectionSubtitle: "Estimate how many weeks to reach your daily earning target",
      projectionExplainerTemplate: "You will start your journey with the initial capital of {{capital}} and you are comfortable to take a risk of {{riskPct}}% for each trade ({{riskDollar}}). Based on your experience, your technique has a {{winRate}}% win rate.\n\nYour daily plan is to trade at least {{maxTradesPerDay}} time(s), and for each trade you plan to have {{tpPoints}} take profit points and {{slPoints}} stop loss points. That means your daily point goal is {{dailyGoalPts}} points (times to trade Ã— TP points).\n\nYour goal is to earn {{targetPerDay}} per day. With this steady growth you will reach your goal in {{weeksToGoal}}.",
      projectionExplainerWeeksPlaceholder: "â€” (calculate to see)",
      initialSetup: "Initial Setup",
      dailyPlan: "Daily Plan",
      endGoal: "End Goal",
      capital: "Capital",
      riskPerOrder: "Risk per order",
      expectedWinRate: "Expected win rate",
      tpPointsPerOrder: "TP points per trade",
      slPointsPerOrder: "SL points per trade",
      maxTradesPerDay: "Max trades / day",
      commission: "Commission",
      netGain: "P/L",
      totalTargetPts: "Total target points",
      totalTargetPtsTip: "TP points per order Ã— max trades per day. Total points you aim to capture per day.",
      ptsPerDay: "pts/day",
      targetEarningsPerDay: "Target earnings / day",
      calculateProjection: "Calculate Projection",
      capitalGrowth: "Capital Growth",
      weeklyBreakdown: "Weekly Breakdown",
      equityCurve: "Equity Curve",
      week: "Week",
      weekUnit: "week",
      weeksUnit: "weeks",
      riskDollar: "Risk $",
      maxLot: "Max Lot",
      dailyTarget: "Daily Target",
      weekPnl: "Week P&L",
      endCapital: "End Capital",
      weeksToGoal: "Weeks to goal",
      maxLotFinal: "Max lot (final)",
      finalCapital: "Final capital",
      perOrder: "per order",
      projected: "projected",
      dayTarget: "/day target",
      noTradesThisPeriod: "No trades this period",
      allTime: "All Time",
      pnlAllTime: "(all time)",
      pnlThisWeekShort: "(this week)",
      winRate: "Win rate",
      rrRatio: "R : R ratio",
      avgTpPts: "Avg TP pts",
      avgTpPtsTip: "Average take-profit points per winning trade.",
      avgSlPts: "Avg SL pts",
      avgSlPtsTip: "Average stop-loss points per losing trade.",
      onTrack: "On track",
      behind: "In progress",
      inProgress: "In progress",
      vsProjected: "next target",
      exceedProjected: "You exceed the goal ðŸŽ‰",
      belowProjected: "Need a little more",
      confirmDeleteTrade: "Delete this trade?",
      confirmClearData: "Delete ALL data? This cannot be undone.\n\nProjection, trading logs, and settings will be permanently removed.",
      importSuccess: "Data imported successfully!",
      importInvalid: "Invalid backup file.",
      exportNoLogs: "No trading logs to export.",
      compareError: "Could not compare to projection.",
      youAreHere: "â† You",
    },
    th: {
      appTitle: "Forex Plan",
      appSubtitle: "à¹à¸œà¸™à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¹à¸¥à¸°à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸—à¸£à¸”",
      tabThisWeek: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰",
      tabTradeHistory: "à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹€à¸—à¸£à¸”",
      tabProjection: "à¹à¸œà¸™à¸à¸²à¸£",
      settingsExportJson: "à¸ªà¹ˆà¸‡à¸­à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (JSON)",
      settingsImportJson: "à¸™à¸³à¹€à¸‚à¹‰à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (JSON)",
      settingsExportCsv: "à¸ªà¹ˆà¸‡à¸­à¸­à¸à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹€à¸—à¸£à¸” (CSV)",
      settingsLightMode: "à¹‚à¸«à¸¡à¸”à¸ªà¸§à¹ˆà¸²à¸‡",
      settingsDarkMode: "à¹‚à¸«à¸¡à¸”à¸¡à¸·à¸”",
      settingsInstallApp: "à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸­à¸›",
      settingsClearData: "à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",
      addTrade: "à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸—à¸£à¸”",
      win: "à¸à¸³à¹„à¸£",
      loss: "à¸‚à¸²à¸”à¸—à¸¸à¸™",
      amount: "à¸ˆà¸³à¸™à¸§à¸™à¹€à¸‡à¸´à¸™",
      lot: "Lot",
      tpPts: "TP à¸ˆà¸¸à¸”",
      slPts: "SL à¸ˆà¸¸à¸”",
      date: "à¸§à¸±à¸™à¸—à¸µà¹ˆ",
      add: "+ à¹€à¸žà¸´à¹ˆà¸¡",
      note: "à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",
      notePlaceholder: "à¹€à¸Šà¹ˆà¸™ breakout, à¸‚à¹ˆà¸²à¸§â€¦",
      thisWeekTrades: "à¹€à¸—à¸£à¸”à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰",
      overviewEmpty: "à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹à¸œà¸™ à¹„à¸›à¸—à¸µà¹ˆà¹à¸—à¹‡à¸š **à¹à¸œà¸™à¸à¸²à¸£** à¹€à¸žà¸·à¹ˆà¸­à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²",
      overviewEmptyLink: "à¹à¸œà¸™à¸à¸²à¸£",
      goalToday: "à¸§à¸±à¸™à¸™à¸µà¹‰",
      goalThisWeek: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰",
      lotThisWeek: "Lot à¸—à¸µà¹ˆà¸„à¸§à¸£à¹ƒà¸Šà¹‰",
      lotThisWeekTip: "Lot à¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸—à¸µà¹ˆà¸„à¸§à¸£à¹ƒà¸Šà¹‰à¸•à¹ˆà¸­à¸à¸²à¸£à¹€à¸—à¸£à¸” à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰à¸•à¸²à¸¡à¸—à¸¸à¸™à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰",
      done: "âœ“ à¸—à¸³à¹à¸¥à¹‰à¸§",
      pts: "à¸ˆà¸¸à¸”",
      currentCapital: "à¸—à¸¸à¸™à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™",
      currentCapitalTip: "à¸—à¸¸à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ + à¸œà¸¥à¸£à¸§à¸¡ P&L à¸ˆà¸²à¸à¹€à¸—à¸£à¸”à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",
      startedAt: "à¹€à¸£à¸´à¹ˆà¸¡à¸—à¸µà¹ˆ",
      pnlThisWeek: "P&L (à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰)",
      pnlThisWeekTip: "à¸œà¸¥à¸£à¸§à¸¡à¹€à¸—à¸£à¸”à¹ƒà¸™à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰",
      trades: "à¹€à¸—à¸£à¸”",
      trade: "à¹€à¸—à¸£à¸”",
      tableDate: "à¸§à¸±à¸™à¸—à¸µà¹ˆ",
      tableResult: "à¸œà¸¥",
      tableAmount: "à¹€à¸‡à¸´à¸™",
      tableLot: "Lot",
      tablePoints: "à¸ˆà¸¸à¸”",
      tableSl: "SL",
      tableNote: "à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸",
      delete: "à¸¥à¸š",
      projectionTitle: "à¹à¸œà¸™à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¸žà¸­à¸£à¹Œà¸•",
      projectionSubtitle: "à¸›à¸£à¸°à¹€à¸¡à¸´à¸™à¸§à¹ˆà¸²à¸ˆà¸°à¹ƒà¸Šà¹‰à¸à¸µà¹ˆà¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²à¸£à¸²à¸¢à¸§à¸±à¸™",
      projectionExplainerTemplate: "à¸„à¸¸à¸“à¸ˆà¸°à¹€à¸£à¸´à¹ˆà¸¡à¸”à¹‰à¸§à¸¢à¸—à¸¸à¸™à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ {{capital}} à¹à¸¥à¸°à¸¢à¸­à¸¡à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡ {{riskPct}}% à¸•à¹ˆà¸­à¹€à¸—à¸£à¸” ({{riskDollar}}) à¸ˆà¸²à¸à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œ à¹€à¸—à¸„à¸™à¸´à¸„à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸¡à¸µà¸­à¸±à¸•à¸£à¸²à¸Šà¸™à¸° {{winRate}}%\n\nà¹à¸œà¸™à¸£à¸²à¸¢à¸§à¸±à¸™à¸„à¸·à¸­à¹€à¸—à¸£à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ {{maxTradesPerDay}} à¸„à¸£à¸±à¹‰à¸‡ à¹à¸¥à¸°à¹à¸•à¹ˆà¸¥à¸°à¹€à¸—à¸£à¸”à¸•à¸±à¹‰à¸‡à¹€à¸›à¹‰à¸² TP {{tpPoints}} à¸ˆà¸¸à¸” à¹à¸¥à¸° SL {{slPoints}} à¸ˆà¸¸à¸” à¸™à¸±à¹ˆà¸™à¸„à¸·à¸­à¹€à¸›à¹‰à¸²à¸ˆà¸¸à¸”à¸£à¸²à¸¢à¸§à¸±à¸™ {{dailyGoalPts}} à¸ˆà¸¸à¸” (à¸ˆà¸³à¸™à¸§à¸™à¹€à¸—à¸£à¸” Ã— à¸ˆà¸¸à¸” TP)\n\nà¹€à¸›à¹‰à¸²à¸„à¸·à¸­à¸«à¸²à¸£à¸²à¸¢à¹„à¸”à¹‰ {{targetPerDay}} à¸•à¹ˆà¸­à¸§à¸±à¸™ à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¹à¸šà¸šà¸™à¸µà¹‰à¸„à¸¸à¸“à¸ˆà¸°à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²à¹ƒà¸™ {{weeksToGoal}}",
      projectionExplainerWeeksPlaceholder: "â€” (à¸à¸”à¸„à¸³à¸™à¸§à¸“à¹€à¸žà¸·à¹ˆà¸­à¸”à¸¹)",
      initialSetup: "à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™",
      dailyPlan: "à¹à¸œà¸™à¸£à¸²à¸¢à¸§à¸±à¸™",
      endGoal: "à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢",
      capital: "à¸—à¸¸à¸™",
      riskPerOrder: "à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸­à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ",
      expectedWinRate: "à¸­à¸±à¸•à¸£à¸²à¸Šà¸™à¸°à¸—à¸µà¹ˆà¸„à¸²à¸”",
      tpPointsPerOrder: "TP à¸ˆà¸¸à¸”à¸•à¹ˆà¸­à¹€à¸—à¸£à¸”",
      slPointsPerOrder: "SL à¸ˆà¸¸à¸”à¸•à¹ˆà¸­à¹€à¸—à¸£à¸”",
      maxTradesPerDay: "à¹€à¸—à¸£à¸”à¸ªà¸¹à¸‡à¸ªà¸¸à¸” / à¸§à¸±à¸™",
      commission: "à¸„à¹ˆà¸²à¸„à¸­à¸¡à¸¡à¸´à¸Šà¸Šà¸±à¸™",
      netGain: "P/L",
      totalTargetPts: "à¹€à¸›à¹‰à¸²à¸ˆà¸¸à¸”à¸£à¸§à¸¡",
      totalTargetPtsTip: "TP à¸ˆà¸¸à¸” Ã— à¸ˆà¸³à¸™à¸§à¸™à¹€à¸—à¸£à¸”à¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸•à¹ˆà¸­à¸§à¸±à¸™ à¸„à¸·à¸­à¸ˆà¸¸à¸”à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹€à¸›à¹‰à¸²à¸—à¸±à¹‰à¸‡à¸§à¸±à¸™",
      ptsPerDay: "à¸ˆà¸¸à¸”/à¸§à¸±à¸™",
      targetEarningsPerDay: "à¹€à¸›à¹‰à¸²à¸£à¸²à¸¢à¹„à¸”à¹‰ / à¸§à¸±à¸™",
      calculateProjection: "à¸„à¸³à¸™à¸§à¸“à¹à¸œà¸™",
      capitalGrowth: "à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¸‚à¸­à¸‡à¸—à¸¸à¸™",
      weeklyBreakdown: "à¸£à¸²à¸¢à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      equityCurve: "à¹€à¸ªà¹‰à¸™ equity",
      week: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      weekUnit: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      weeksUnit: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      riskDollar: "à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡ $",
      maxLot: "Lot à¸ªà¸¹à¸‡à¸ªà¸¸à¸”",
      dailyTarget: "à¹€à¸›à¹‰à¸²à¸£à¸²à¸¢à¸§à¸±à¸™",
      weekPnl: "P&L à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      endCapital: "à¸—à¸¸à¸™à¸ªà¸´à¹‰à¸™à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ",
      weeksToGoal: "à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²",
      maxLotFinal: "Lot à¸ªà¸¹à¸‡à¸ªà¸¸à¸” (à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢)",
      finalCapital: "à¸—à¸¸à¸™à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢",
      perOrder: "à¸•à¹ˆà¸­à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ",
      projected: "à¸•à¸²à¸¡à¹à¸œà¸™",
      dayTarget: "à¹€à¸›à¹‰à¸²/à¸§à¸±à¸™",
      noTradesThisPeriod: "à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸—à¸£à¸”à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¸™à¸µà¹‰",
      allTime: "à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",
      pnlAllTime: "(à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”)",
      pnlThisWeekShort: "(à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰)",
      winRate: "à¸­à¸±à¸•à¸£à¸²à¸Šà¸™à¸°",
      rrRatio: "à¸­à¸±à¸•à¸£à¸² R : R",
      avgTpPts: "à¹€à¸‰à¸¥à¸µà¹ˆà¸¢ TP à¸ˆà¸¸à¸”",
      avgTpPtsTip: "à¸ˆà¸¸à¸” take-profit à¹€à¸‰à¸¥à¸µà¹ˆà¸¢à¸•à¹ˆà¸­à¸à¸²à¸£à¹€à¸—à¸£à¸”à¸—à¸µà¹ˆà¸Šà¸™à¸°",
      avgSlPts: "à¹€à¸‰à¸¥à¸µà¹ˆà¸¢ SL à¸ˆà¸¸à¸”",
      avgSlPtsTip: "à¸ˆà¸¸à¸” stop-loss à¹€à¸‰à¸¥à¸µà¹ˆà¸¢à¸•à¹ˆà¸­à¸à¸²à¸£à¹€à¸—à¸£à¸”à¸—à¸µà¹ˆà¸‚à¸²à¸”à¸—à¸¸à¸™",
      onTrack: "à¸•à¸²à¸¡à¹à¸œà¸™",
      behind: "à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£",
      inProgress: "à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£",
      vsProjected: "à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸–à¸±à¸”à¹„à¸›",
      exceedProjected: "à¹€à¸à¸´à¸™à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢ ðŸŽ‰",
      belowProjected: "à¸‚à¸²à¸”à¸­à¸µà¸à¸™à¸´à¸”à¸«à¸™à¹ˆà¸­à¸¢à¸ˆà¸°à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²",
      confirmDeleteTrade: "à¸¥à¸šà¹€à¸—à¸£à¸”à¸™à¸µà¹‰?",
      confirmClearData: "à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”? à¸à¸²à¸£à¸à¸£à¸°à¸—à¸³à¸™à¸µà¹‰à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¹‰à¸­à¸™à¸à¸¥à¸±à¸šà¹„à¸”à¹‰\n\nà¹à¸œà¸™à¸à¸²à¸£ à¹€à¸—à¸£à¸” à¹à¸¥à¸°à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸ˆà¸°à¸–à¸¹à¸à¸¥à¸šà¸–à¸²à¸§à¸£",
      importSuccess: "à¸™à¸³à¹€à¸‚à¹‰à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!",
      importInvalid: "à¹„à¸Ÿà¸¥à¹Œà¸ªà¸³à¸£à¸­à¸‡à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡",
      exportNoLogs: "à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹€à¸—à¸£à¸”à¹ƒà¸«à¹‰à¸ªà¹ˆà¸‡à¸­à¸­à¸",
      compareError: "à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸à¸±à¸šà¹à¸œà¸™à¹„à¸¡à¹ˆà¹„à¸”à¹‰",
      youAreHere: "â† à¸„à¸¸à¸“",
    },
  };

  ForexPlan.STRINGS = STRINGS;
  ForexPlan.locale = localStorage.getItem(STORAGE_KEY) || "en";
  document.documentElement.lang = ForexPlan.locale === "th" ? "th" : "en";

  ForexPlan.t = function (key) {
    const loc = STRINGS[ForexPlan.locale];
    const s = loc && loc[key];
    return s != null ? s : (STRINGS.en[key] != null ? STRINGS.en[key] : key);
  };

  ForexPlan.setLocale = function (code) {
    if (!STRINGS[code]) return;
    ForexPlan.locale = code;
    localStorage.setItem(STORAGE_KEY, code);
    document.documentElement.lang = code === "th" ? "th" : "en";
    if (typeof window.dispatchEvent === "function") {
      window.dispatchEvent(new CustomEvent("forexplan-locale-change"));
    }
  };

  ForexPlan.applyStaticTranslations = function () {
    document.querySelectorAll("[data-i18n]").forEach((el) => {
      const key = el.getAttribute("data-i18n");
      if (key) el.textContent = ForexPlan.t(key);
    });
    document.querySelectorAll("[data-i18n-ph]").forEach((el) => {
      const key = el.getAttribute("data-i18n-ph");
      if (key) el.placeholder = ForexPlan.t(key);
    });
  };
})();
